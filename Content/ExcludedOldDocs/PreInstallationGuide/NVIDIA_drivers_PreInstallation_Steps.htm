<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mp-topic">
    <head>
    </head>
    <body>
        <h2>Preinstallation Steps</h2>
        <ul>
            <li><a href="#Verifyin">Verifying the existence of NVIDIA GPUs</a>
            </li>
            <li><a href="#Verifyin2">Verifying that GCC is installed</a>
            </li>
            <li><a href="#Installi">Installing kernel headers</a>
            </li>
            <li><a href="#Blacklis">Blacklisting nouveau</a>
            </li>
        </ul>
        <h3><a name="Verifyin"></a>Verifying the existence of NVIDIA GPUs</h3>
        <p class="toDo">To verify that your GPU is CUDA-capable, run the following command:</p>
        <p class="code"># lspci | grep -i nvidia</p>
        <p>The expected result is something like:</p>
        <div class="code">
            <p>06:00.0 3D controller: NVIDIA Corporation device [Tesla V100] (rev a1)</p>
            <p>07:00.0 3D controller: NVIDIA Corporation device [Tesla V100] (rev a1)</p>
            <p>0a:00.0 3D controller: NVIDIA Corporation device [Tesla V100] (rev a1)</p>
            <p>0b:00.0 3D controller: NVIDIA Corporation device [Tesla V100] (rev a1)</p>
            <p>0e:00.0 3D controller: NVIDIA Corporation device [Tesla V100] (rev a1)</p>
            <p>0f:00.0 3D controller: NVIDIA Corporation device [Tesla V100] (rev a1)</p>
            <p>12:00.0 3D controller: NVIDIA Corporation device [Tesla V100] (rev a1)</p>
            <p>13:00.0 3D controller: NVIDIA Corporation device [Tesla V100] (rev a1)</p>
        </div>
        <p>If nothing appears, your GPU might not be installed correctly.</p>
        <h3><a name="Verifyin2"></a>Verifying that GCC is installed</h3>
        <p class="toDo">To verify that GCC is installed, run the following command:</p>
        <p class="code"># gcc -v</p>
        <p>The last line of the output should say:</p>
        <p><span class="emphasis">gcc version 4.8.3 (GCC)</span> (Any version over 4.8 is OK.)</p>
        <p class="toDo">If an error message displays, you need to install the development tools and gcc from the yum repository:</p>
        <p class="code"># yum install -y gcc</p>
        <h3><a name="Installi"></a>Installing kernel headers</h3>
        <p class="toDo">Run the following command to install the kernel headers:</p>
        <p class="code"># yum install kernel-devel-$(uname -r) kernel-headers-$(uname -r)</p>
        <div class="tip">
            <p>Reboot your machine after this step</p>
        </div>
        <h3><a name="Blacklis"></a>Blacklisting nouveau</h3>
        <p>Check to see whether the Nouveau drivers are loaded.</p>
        <p class="toDo">They are loaded if the following command displays any output:</p>
        <p class="code"># lsmod | grep nouveau</p>
        <p class="toDo">If the driver is loaded, run the following command to disable it.</p>
        <div class="code">
            <p># cat &lt;&lt;EOF | sudo tee /etc/modprobe.d/blacklist-nouveau.conf</p>
            <p>blacklist nouveau</p>
            <p>options nouveau modeset=0</p>
            <p>EOF</p>
        </div>
        <p class="toDo">Run the following command to regenerate the kernel initramfs:</p>
        <p class="code"># sudo dracut --force</p>
    </body>
</html>