<?xml version="1.0" encoding="utf-8"?>
<html lang="en" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mp-topic" style="mc-master-page: url('..\..\Resources\MasterPages\Drivers.flmsp');">
    <head>
    </head>
    <body class="article toc2 toc-left">
        <h3 id="_run_a_query_starting_and_finishing">Run a query - Starting and finishing</h3>
        <div class="code">
            <div class="title">Example</div>
            <div class="content"><pre class="pygments highlight" xml:space="preserve"><code data-lang="cpp"><span class="tok-c1">//Initialization - Termination Example</span>  
<span class="tok-cp">#include</span>  <span class="tok-cpf">"SQream-cpp-connector.h"</span><span class="tok-cp"></span>  

<span class="tok-kt">void</span>  <span class="tok-nf">Query</span><span class="tok-p">()</span>  <span class="tok-p">{</span>  
	<span class="tok-c1">// Connection parameters: IP, Port, Database, Username, Password</span>  
	<span class="tok-n">sqream</span><span class="tok-o">::</span><span class="tok-n">driver</span>  <span class="tok-n">sqc</span><span class="tok-p">;</span>  
	<span class="tok-n">sqc</span><span class="tok-p">.</span><span class="tok-n">connect</span><span class="tok-p">(</span><span class="tok-s">"127.0.0.1"</span><span class="tok-p">,</span>  <span class="tok-mi">5000</span><span class="tok-p">,</span>  <span class="tok-nb">false</span><span class="tok-p">,</span>  <span class="tok-s">"sqream"</span><span class="tok-p">,</span>  <span class="tok-s">"sqream"</span><span class="tok-p">,</span>  <span class="tok-s">"master"</span><span class="tok-p">);</span>  
	<span class="tok-n">string</span>  <span class="tok-n">statement</span>  <span class="tok-o">=</span>  <span class="tok-n">SQL_STATEMENT</span><span class="tok-p">;</span>  
	<span class="tok-n">new_query_execute</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-n">sqc</span><span class="tok-p">,</span>  <span class="tok-n">statement</span><span class="tok-p">);</span>  

    <span class="tok-c1">//.</span>  
	<span class="tok-c1">//. Do something</span>  
	<span class="tok-c1">//.</span>  

    <span class="tok-c1">// closes the statement (to do after execute + necessary fetch/put to close the</span>  
	<span class="tok-c1">// statement and be able to open another one through prepare())</span>  
	<span class="tok-n">sqc</span><span class="tok-p">.</span><span class="tok-n">finish_query</span><span class="tok-p">();</span>  

	<span class="tok-c1">// closes the connection completely, destroying the socket, a call to "connect(..)"</span>  
    <span class="tok-c1">// needs to be done do continue using this "driver sqc" object</span>  
	<span class="tok-n">sqc</span><span class="tok-p">.</span><span class="tok-n">disconnect</span><span class="tok-p">();</span>  
<span class="tok-p">}</span></code></pre>
            </div>
        </div>
    </body>
</html>