<?xml version="1.0" encoding="utf-8"?>
<html lang="en" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mp-topic" style="mc-master-page: url('..\Resources\MasterPages\Concepts.flmsp');">
    <head>
        <link href="../Resources/Table Styles/DefaultTable.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body class="article toc2 toc-left">
        <div id="content">
            <div class="sect2">
                <h3 id="chunks">Chunks, Compression and Metadata</h3>
                <div class="sect3">
                    <h4 id="_chunks">Chunks</h4>
                    <p>SQream DB splits columnar data into chunks. The chunk size will determine the minimum bulk load into the GPU. For better performance, SQream DB rearranges previously loaded data into new chunks based on the configured <span class="strong">chunk size</span>. When loading data into SQream DB, each bulk load (either <span class="codeCH">INSERT INTO</span> or <span class="codeCH">COPY</span>), will generate its own chunks (with sizes up to the chunk size). Chunk size is a parameter at the cluster level. It must be set before the first insert to the cluster. It can also be set at the database level, before any tables are created. Default chunk size is 1 million rows. Ask your database administrator about setting the chunk size. </p>
                    <div class="admonitionblock note">
                        <table style="mc-table-style: url('../Resources/Table Styles/DefaultTable.css');" class="TableStyle-Default_Table" cellspacing="0">
                            <tr class="TableStyle-Default_Table-Body-Body1">
                                <td class="TableStyle-Default_Table-BodyE-Column1-Body1"><i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="TableStyle-Default_Table-BodyD-Column1-Body1">
                                    <div class="ulist">
                                        <ul>
                                            <li>
                                                <p>The chunk size influences load/query time. Before tuning the parameter, consult your SQream account manager.</p>
                                            </li>
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="_compression_specs">Compression specs</h4>
                    <div class="paragraph">
                        <p>When <code>DEFAULT</code> compression spec (or no compression spec) is specified, each chunk may be compressed in a variety of different formats, based on the system’s understanding. You may override the compression spec, but this is not recommended.</p>
                    </div>
                    <div class="paragraph">
                        <p>See <a href="../SQL_Reference_Guide/16_2.1_Data_Definition_Language.htm#Compression_types">Compression types</a> in the SQL Manual for more information.</p>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="_metadata">Metadata</h4>
                    <div class="paragraph">
                        <p>SQream DB gathers and saves metadata information regarding the columns data at the chunk level during <code>COPY</code>. This information will serve the SQream optimizer while doing Data Skipping and other optimizations. Gathering metadata is automatic and transparent and requires no user intervention.</p>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>